---
title: "RIPE Atlas Probe V5を設置する"
date: 2023-01-20T08:23:14+09:00
categories: [example]
draft: false
toc: true
---
### RIPE Atlasプロジェクト
[RIPE Atlas](https://atlas.ripe.net/)はインターネット資源を管理するRIRの一つであるRIPE NCCが実施しているもので、多くのRIPE Atlas Probeなどを様々な場所、つまり様々なインターネット環境にばら撒くことにより、インターネットを様々な視点で見れるというものです。2023/01/20 20:30 現在でオンラインのRIPE Atlas Probeは11,935台で、様々な国のインターネット環境にばら撒かれています

この一般の人が利用することもでき、Web上で自身の測定を作り様々なインターネット環境からの到達性などを確認することができます(測定には「クレジット」を消費します)

### 申請
インターネットを監視するRIPE Atlas Probeには物理版とソフトウェア版があり、自身のVM基盤上で動かすと諸々の面倒くささががあるので物理版を申請しました。余っているRaspberryPiでもあるのでしたらその上でプローブを動かすのもいいかもしれません。

RIPE Atlasに参加する費用は基本的に無料です(!)

なので物理版の場合ヨーロッパから荷物の送料やもちろんハードウェアの費用もかかりますので審査があり(ソフトウェア版もあるのかな?)おそらくすでに設置しようとするネットワーク内(AS内)に複数個のプローブが設置されている場合は送られることはないかもしれません

自身はプローブが一切設置されていないインターネット(地域のISP)に接続しているのでそこにプローブを設置すると申請したら「Your Probe shipped」と言う件名のメールが届き受理されました。

申請手順は[ここ](https://atlas.ripe.net/get-involved/become-an-anchor-host/)に書いてあります
### 開封
メールから15日経ち、白い小包に入ったRIPE Atlas Probe V5とケーブルと紙が届きました。流石に国際小包とだけあってボコボコですね

![RIPE Atlas Probe V5と諸々の付属品](/images/install-ripe-atlas/open-package.jpg)

早速設置して適当にNEC IX2215(ルーター)のUSBから電源供給して起動します。こいつは画面出力とかは何もないので基本的にはIPアドレスの設定など全てRIPE Atlasのポータルから操作します。(IPアドレスはDHCPで取得させたほうが完全に自動で動いてくれるのでDHCPがあるセグメントに入れたほうがいいです)

![設置](/images/install-ripe-atlas/installed.jpg)
(付属のLANケーブルがゴツすぎてまともに立ってくれない)


https://atlas.ripe.net/probes/ から自分のプローブの状態を見ることができます。設置後(設置前?)に[Register](https://atlas.ripe.net/register/)をすることでようやく色々な人が色々な測定(User-defined Measurementsで略してUDMだそうです)に使う公開されたプローブとして使えるようになるみたいです

![UDM(User-defined Measurements)s](/images/install-ripe-atlas/UDMs.png)

268の様々な測定に使われている我が家ののプローブ！様々なところにICMPやDNS解決、HTTPなどを定期的に飛ばしまくっています。

### メリット
プローブを設置すると測定数に応じてUDMに必要なクレジットが無料で手に入ります。最初にProbeを公開するとウェルカムボーナスとして500,000クレジットが手に入り、その後もプローブをオンラインにし続けるとクレジットを手に入れることができます。正直自分はプローブを設置してRIPE Atlasに貢献できるだけでも面白いのでいいのですが、せっかくもらったものなので活用していきたいですね

https://atlas.ripe.net/measurements/ から測定を作成できるのですが、世界中の500のプローブから一発(one-off)だけこのブログにSSL接続をしても10,000クレジットしか消費しないので定期的な測定でやっとクレジットを消費できるぐらい大きいクレジットなのがよくわかります。色々使えそうですね